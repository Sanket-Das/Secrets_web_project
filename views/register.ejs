<%- include("partials/header") %>

<div class="form-container">
  <h2>Register</h2>
  <form action="/register" method="post" onsubmit="return validatePassword()">
    <input type="text" name="name" placeholder="Full Name" required>
    <input type="email" name="username" placeholder="Email" required>

    <input type="password" name="password" id="password" placeholder="Password" required>
<small id="passwordHint" class="hint-text" style="color:#666;">
  Password must have 1 uppercase, 1 lowercase, 1 number, and be at least 6 characters long.
</small>
<small id="passwordError" class="hint-text" style="color:red; display:none;">
  ‚ùå Your password does not meet the requirements.
</small>



    <label>
      <input type="checkbox" onclick="togglePassword()"> Show Password
    </label>

    <p id="error" style="color:red;"></p>

    <button class="btn-form" type="submit">Register</button>
  </form>
</div>

<script>
  function togglePassword() {
    const passwordInput = document.getElementById("password");
    passwordInput.type = passwordInput.type === "password" ? "text" : "password";
  }

  function validatePassword() {
    const passwordInput = document.getElementById("password");
    const errorText = document.getElementById("passwordError");
    const password = passwordInput.value;

    const isValid = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{6,}$/.test(password);

    if (!isValid) {
      errorText.style.display = "block";
      return false; // prevent form from submitting
    } else {
      errorText.style.display = "none";
      return true;
    }
  }
</script>


<%- include("partials/footer") %>
